{"version":3,"sources":["components/TopBar.js","components/Snackbar.js","components/UploadFileButton.js","utils/arrayBufferToBase64.js","components/FileCard.js","components/FileList.js","components/FileDownloadForm.js","components/FileDropZone.js","App.js","registerServiceWorker.js","index.js"],"names":["TopBar","react_default","a","createElement","id","style","background","blue","main","Typography_default","variant","color","Snackbar","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleClick","setState","open","handleClose","event","reason","state","message","identity","onClick","display","concat","Snackbar_default","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","SnackbarContentProps","aria-describedby","action","IconButton_default","key","aria-label","Icon_default","fontSize","lineHeight","React","Component","position","bottom","right","UploadFileButton","fileInputChange","uploadingFiles","push","form","document","getElementById","formData","FormData","fetch","method","body","then","response","click","value","splice","Button_default","length","Progress","size","thickness","type","name","hidden","multiple","onChange","components_Snackbar","arrayBufferToBase64","arrayBuffer","chunk","base64","encodings","bytes","Uint8Array","byteLength","byteRemainder","mainLength","i","FileCard","generateDataURI","mimeType","data","onMouseOver","shadow","onMouseOut","formatBytes","decimals","dm","Math","floor","log","parseFloat","pow","toFixed","downloadFile","setDownloadFileId","file","deleteFile","evt","stopPropagation","fileName","originalname","isPreviewable","buffer","mimetype","Tooltip_default","title","Card_default","className","elevation","Grid_default","container","spacing","item","xs","Card","noWrap","maxWidth","image","FileList","files","fetchingFiles","nextProps","_this2","Paper_default","fileCards","map","md","components_FileCard","justify","alignItems","FileDownloadForm","fileId","url","href","download","FileDropZone","onDrop","e","preventDefault","dataTransfer","onDragOver","top","left","height","width","visibility","zIndex","theme","createMuiTheme","palette","primary","App","updateToggle","downloadFileId","socket","io","connect","on","JSON","parse","getFileList","callback","styles","components_FileDropZone","components_TopBar","components_FileList","bind","components_UploadFileButton","components_FileDownloadForm","json","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","catch","error","ReactDOM","render","src_App","URL","process","origin","addEventListener","status","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.90f33236.chunk.js","sourcesContent":["import React from 'react';\r\nimport '../styles/TopBar.css';\r\nimport Typography from 'material-ui/Typography';\r\nimport blue from 'material-ui/colors/blue';\r\n\r\nfunction TopBar() {\r\n  return (\r\n    <div id=\"topBar\" style={{background: blue.main}}>\r\n      <Typography id=\"topBarHead\" variant=\"display2\" color=\"inherit\">\r\n        Transfer Files\r\n      </Typography>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default TopBar;\r\n","import React from 'react';\r\nimport SnackbarMaterial from 'material-ui/Snackbar';\r\nimport Icon from 'material-ui/Icon';\r\nimport IconButton from 'material-ui/IconButton';\r\n\r\nclass Snackbar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      open: false,\r\n    };\r\n    this.message = props.message;\r\n    this.identity = props.identity;\r\n  }\r\n\r\n  handleClick = () => {\r\n    this.setState({open: true});\r\n  };\r\n\r\n  handleClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n\r\n    this.setState({open: false});\r\n  };\r\n\r\n  render() {\r\n    return (\r\n        <div>\r\n          <button onClick={this.handleClick} style={{display: \"none\"}} id={`${this.identity}SnackbarShowButton`}/>\r\n          <SnackbarMaterial\r\n              anchorOrigin={{\r\n                vertical: 'bottom',\r\n                horizontal: 'center',\r\n              }}\r\n              open={this.state.open}\r\n              autoHideDuration={3000}\r\n              onClose={this.handleClose}\r\n              SnackbarContentProps={{\r\n                'aria-describedby': 'message-id',\r\n              }}\r\n              message={<span id=\"message-id\">{this.props.message}</span>}\r\n              action={[\r\n                <IconButton\r\n                    key=\"close\"\r\n                    aria-label=\"Close\"\r\n                    color=\"inherit\"\r\n                    onClick={this.handleClose}\r\n                >\r\n                  <Icon style={{fontSize: \"16px\", lineHeight: \"100%\"}}>close</Icon>\r\n                </IconButton>\r\n              ]}\r\n          />\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Snackbar;","import React, {Component} from 'react';\r\nimport Button from 'material-ui/Button';\r\nimport Icon from 'material-ui/Icon';\r\nimport Snackbar from './Snackbar';\r\nimport {CircularProgress} from 'material-ui/Progress';\r\n\r\nconst style = {\r\n  position: \"fixed\",\r\n  bottom: \"16px\",\r\n  right: \"16px\"\r\n};\r\n\r\nclass UploadFileButton extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      uploadingFiles: []\r\n    }\r\n  }\r\n\r\n  fileInputChange = () => {\r\n    // Store that one file (more) is uploading\r\n    let uploadingFiles = this.state.uploadingFiles;\r\n    uploadingFiles.push(true);\r\n    this.setState({uploadingFiles});\r\n\r\n    const form = document.getElementById('fileUploadForm');\r\n    const formData = new FormData(form),\r\n        queryOptions = {\r\n          method: 'post',\r\n          body: formData\r\n        };\r\n\r\n    fetch('/api/files', queryOptions)\r\n        .then(response => {\r\n          document.getElementById('uploadedSnackbarShowButton').click();\r\n          // Clear input value\r\n          document.getElementById(\"fileHiddenInput\").value = \"\";\r\n          // Remove from list of uploading files\r\n          let uploadingFiles = this.state.uploadingFiles;\r\n          uploadingFiles.splice(0, 1);\r\n          this.setState({uploadingFiles});\r\n        });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n        <div>\r\n          <Button variant=\"fab\" color=\"secondary\" aria-label=\"add\" style={style} onClick={onClick}>\r\n            {this.state.uploadingFiles.length !== 0 ?\r\n                <CircularProgress\r\n                    variant=\"indeterminate\"\r\n                    style={{color: \"#FFF\"}}\r\n                    size={30}\r\n                    thickness={5}\r\n                /> :\r\n                <Icon>add</Icon>\r\n            }\r\n          </Button>\r\n          <form action=\"#\" id=\"fileUploadForm\">\r\n            <input type='file' id=\"fileHiddenInput\" name=\"file\" hidden multiple onChange={this.fileInputChange}/>\r\n          </form>\r\n          <Snackbar message=\"File Uploaded\" identity=\"uploaded\"/>\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst onClick = () => {\r\n  document.getElementById(\"fileHiddenInput\").click();\r\n};\r\n\r\n\r\nexport default UploadFileButton;\r\n","function arrayBufferToBase64(arrayBuffer) {\r\n  let base64 = '';\r\n  let encodings = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\r\n\r\n  let bytes = new Uint8Array(arrayBuffer);\r\n  let byteLength = bytes.byteLength;\r\n  let byteRemainder = byteLength % 3;\r\n  let mainLength = byteLength - byteRemainder;\r\n\r\n  let a, b, c, d;\r\n  let chunk;\r\n\r\n  // Main loop deals with bytes in chunks of 3\r\n  for (let i = 0; i < mainLength; i = i + 3) {\r\n    // Combine the three bytes into a single integer\r\n    chunk = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\r\n\r\n    // Use bitmasks to extract 6-bit segments from the triplet\r\n    a = (chunk & 16515072) >> 18; // 16515072 = (2^6 - 1) << 18\r\n    b = (chunk & 258048) >> 12; // 258048   = (2^6 - 1) << 12\r\n    c = (chunk & 4032) >> 6; // 4032     = (2^6 - 1) << 6\r\n    d = chunk & 63; // 63       = 2^6 - 1\r\n\r\n    // Convert the raw binary segments to the appropriate ASCII encoding\r\n    base64 += encodings[a] + encodings[b] + encodings[c] + encodings[d];\r\n  }\r\n\r\n  // Deal with the remaining bytes and padding\r\n  if (byteRemainder === 1) {\r\n    chunk = bytes[mainLength];\r\n\r\n    a = (chunk & 252) >> 2; // 252 = (2^6 - 1) << 2\r\n\r\n    // Set the 4 least significant bits to zero\r\n    b = (chunk & 3) << 4; // 3   = 2^2 - 1\r\n\r\n    base64 += encodings[a] + encodings[b] + '==';\r\n  } else if (byteRemainder === 2) {\r\n    chunk = (bytes[mainLength] << 8) | bytes[mainLength + 1];\r\n\r\n    a = (chunk & 64512) >> 10; // 64512 = (2^6 - 1) << 10\r\n    b = (chunk & 1008) >> 4; // 1008  = (2^6 - 1) << 4\r\n\r\n    // Set the 2 least significant bits to zero\r\n    c = (chunk & 15) << 2; // 15    = 2^4 - 1\r\n\r\n    base64 += encodings[a] + encodings[b] + encodings[c] + '=';\r\n  }\r\n\r\n  return base64\r\n}\r\n\r\nexport default arrayBufferToBase64;","import React, {Component} from 'react';\r\nimport Card, {CardContent, CardMedia, CardActions} from 'material-ui/Card';\r\nimport Typography from 'material-ui/Typography';\r\nimport Grid from 'material-ui/Grid';\r\nimport '../styles/FileCard.css';\r\nimport Button from 'material-ui/Button';\r\nimport Tooltip from 'material-ui/Tooltip';\r\n\r\nimport arrayBufferToBase64 from '../utils/arrayBufferToBase64';\r\n\r\nclass FileCard extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.file = props.file;\r\n    this.fileName = props.file.originalname;\r\n    this.size = props.file.size;\r\n    this.isPreviewable = true;\r\n    props.file.buffer ?\r\n        this.data = props.file.buffer.data :\r\n        this.isPreviewable = false;\r\n    this.mimeType = props.file.mimetype;\r\n    this.setDownloadFileId = props.setDownloadFileId;\r\n    this.state = {shadow: 1};\r\n  }\r\n\r\n  generateDataURI = () => {\r\n    return `data:${this.mimeType};base64,${arrayBufferToBase64(this.data)}`;\r\n  };\r\n\r\n  onMouseOver = () => {\r\n    this.setState({shadow: 3});\r\n  };\r\n\r\n  onMouseOut = () => {\r\n    this.setState({shadow: 1});\r\n  };\r\n\r\n  formatBytes = (bytes, decimals) => {\r\n    if (bytes === 0)\r\n      return '0 Bytes';\r\n\r\n    let k = 1024,\r\n        dm = decimals || 2,\r\n        sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'],\r\n        i = Math.floor(Math.log(bytes) / Math.log(k));\r\n\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\r\n  };\r\n\r\n  downloadFile = () => {\r\n    this.setDownloadFileId(this.file.id, () => {\r\n      document.getElementById('fileDownloadLink').click();\r\n    });\r\n  };\r\n\r\n  deleteFile = (evt) => {\r\n    evt.stopPropagation();\r\n    const queryOptions = {\r\n      method: 'delete'\r\n    };\r\n\r\n    fetch(`/api/file/${this.file.id}`, queryOptions).then(response => {\r\n      document.getElementById('deletedSnackbarShowButton').click();\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n        <div>\r\n          <Tooltip title={this.fileName}>\r\n            <Card onMouseOver={this.onMouseOver}\r\n                  onMouseOut={this.onMouseOut}\r\n                  onClick={this.downloadFile}\r\n                  className={\"fileCard \" + (!this.isPreviewable && \"noImage\")}\r\n                  elevation={this.state.shadow}>\r\n              <Grid container spacing={0}>\r\n                <Grid item className=\"details\" xs={7}>\r\n                  <CardContent className={\"fileCardContent \" + (!this.isPreviewable ? \"noImage\" : \"\")}>\r\n                    <Typography className=\"fileName\" variant=\"subheading\" color=\"inherit\" noWrap\r\n                                style={{maxWidth: \"calc(100% - 32px)\"}}>\r\n                    <span className=\"fileNameText\">\r\n                      {this.fileName}\r\n                    </span>\r\n                    </Typography>\r\n\r\n                    <div className=\"fileDetails\">\r\n                      <Typography variant=\"body1\" color=\"textSecondary\">\r\n                        {this.formatBytes(this.size)}\r\n                      </Typography>\r\n                    </div>\r\n                  </CardContent>\r\n\r\n                  <CardActions>\r\n                    <Button size=\"small\" color=\"secondary\" onClick={this.deleteFile}>\r\n                      Delete\r\n                    </Button>\r\n                  </CardActions>\r\n                </Grid>\r\n                <Grid item className=\"details\" xs={5}>\r\n                  {\r\n                    this.isPreviewable &&\r\n                    <CardMedia image={this.generateDataURI(this.file)} className=\"fileCardImage\"/>\r\n                  }\r\n                </Grid>\r\n              </Grid>\r\n            </Card>\r\n          </Tooltip>\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default FileCard;","import React, {Component} from 'react';\r\nimport Grid from 'material-ui/Grid';\r\nimport Typography from 'material-ui/Typography';\r\nimport Paper from 'material-ui/Paper';\r\nimport FileCard from './FileCard';\r\nimport '../styles/FileList.css';\r\nimport blue from \"material-ui/colors/blue\";\r\n\r\nclass FileList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.files = props.files;\r\n    this.fetchingFiles = props.fetchingFiles;\r\n    this.setDownloadFileId = props.setDownloadFileId;\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    this.files = nextProps.files;\r\n    this.fetchingFiles = nextProps.fetchingFiles;\r\n  }\r\n\r\n  render() {\r\n    let html;\r\n\r\n    if (this.fetchingFiles) {\r\n      html =\r\n          <Paper elevation={4} className=\"fileListPaper\">\r\n            <Typography color=\"textSecondary\">\r\n              Loading...\r\n            </Typography>\r\n          </Paper>;\r\n      return html;\r\n    }\r\n\r\n    const fileCards = this.files.map((file) =>\r\n        <Grid item key={file.id} className=\"fileListGridItem\" xs={12} md={6}>\r\n          <FileCard file={file} setDownloadFileId={this.setDownloadFileId}/>\r\n        </Grid>\r\n    );\r\n\r\n    if (fileCards.length) {\r\n      html =\r\n          <div>\r\n            <div id=\"fileListTopBackground\" style={{background: blue.main}}/>\r\n            <Grid id=\"fileListGrid\" container justify=\"flex-start\" spacing={8} alignItems=\"center\">\r\n              {fileCards}\r\n            </Grid>\r\n          </div>;\r\n    } else {\r\n      html =\r\n          <Paper elevation={4} className=\"fileListPaper\">\r\n            <Typography>\r\n              You have no files uploaded yet. Start by uploading one.\r\n            </Typography>\r\n          </Paper>;\r\n    }\r\n\r\n    return html;\r\n  }\r\n}\r\n\r\nexport default FileList;","import React, {Component} from 'react';\r\n\r\nclass FileDownloadForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.fileId = props.fileId;\r\n  }\r\n\r\n  componentWillUpdate(nextProps) {\r\n    this.fileId = nextProps.fileId;\r\n  }\r\n\r\n  render() {\r\n    let url = `/api/file/${this.fileId}`;\r\n\r\n    return (\r\n        <a href={url} download id=\"fileDownloadLink\"/>\r\n    )\r\n  }\r\n}\r\n\r\nexport default FileDownloadForm;","import React, {Component} from 'react';\r\n\r\nclass FileDropZone extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      files: []\r\n    };\r\n    this.style = {\r\n      position: 'fixed',\r\n      top: 0,\r\n      left: 0,\r\n      height: '100vh',\r\n      width: '100%',\r\n      visibility: 'visible',\r\n      zIndex: -1\r\n    }\r\n  }\r\n\r\n  onDrop = (e) => {\r\n    e.preventDefault();\r\n    document.getElementById(\"fileHiddenInput\").files = e.dataTransfer.files;\r\n  };\r\n\r\n  onDragOver = (e) => {\r\n    e.preventDefault();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n        <div\r\n            style={this.style}\r\n            onDrop={this.onDrop}\r\n            onDragOver={this.onDragOver}\r\n        />\r\n    )\r\n  }\r\n}\r\n\r\nexport default FileDropZone;","import React, {Component} from 'react';\r\nimport TopBar from './components/TopBar';\r\nimport UploadFileButton from './components/UploadFileButton';\r\nimport FileList from './components/FileList';\r\nimport FileDownloadForm from './components/FileDownloadForm';\r\nimport {createMuiTheme, MuiThemeProvider} from 'material-ui/styles';\r\nimport blue from 'material-ui/colors/blue';\r\nimport io from 'socket.io-client';\r\nimport Snackbar from './components/Snackbar';\r\nimport FileDropZone from './components/FileDropZone';\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: blue,\r\n  },\r\n});\r\n\r\nclass App extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      updateToggle: false,\r\n      files: [],\r\n      fetchingFiles: true,\r\n      downloadFileId: null\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    // Connect to socket and update file list on server data change\r\n    this.socket = io.connect('/');\r\n    this.socket.on('file list update', (files) => {\r\n      files = JSON.parse(files);\r\n      this.setState({files});\r\n    });\r\n\r\n    // Initial data fetch\r\n    getFileList().then(files => {\r\n      this.setState({\r\n        files,\r\n        fetchingFiles: false\r\n      });\r\n    });\r\n  }\r\n\r\n  setDownloadFileId(downloadFileId, callback){\r\n    this.setState({downloadFileId}, callback);\r\n    this.setState({});\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <MuiThemeProvider theme={theme}>\r\n          <FileDropZone/>\r\n          <TopBar/>\r\n          <FileList files={this.state.files} fetchingFiles={this.state.fetchingFiles} setDownloadFileId={this.setDownloadFileId.bind(this)}/>\r\n          <UploadFileButton/>\r\n          <Snackbar message=\"File Deleted\" identity=\"deleted\"/>\r\n          <FileDownloadForm fileId={this.state.downloadFileId}/>\r\n        </MuiThemeProvider>\r\n    );\r\n  }\r\n}\r\n\r\nconst getFileList = () => {\r\n  return fetch('/api/files/')\r\n      .then(response => response.json());\r\n};\r\n\r\nexport default App;\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport registerServiceWorker from './registerServiceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\nregisterServiceWorker();\r\n"],"sourceRoot":""}